var txtArea=document.querySelector('[name="code"]'),myCodeMirror=CodeMirror.fromTextArea(txtArea,{mode:"javascript",dragDrop:!0,mod:"application/javascript"});jQuery(document).ready(function(a){$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green"}),a("#form").submit(function(b){var c=myCodeMirror.getValue(),d=a("#g-recaptcha-response").val();if(0===d.length)return void smoke.alert("Captcha is required!");if(c.length>5)if(c.indexOf("A,n,C,M,S")>0||c.indexOf("(function(A,n,C,M,S)")>0)smoke.alert("Please enter new source code!");else{var e=a("#submitBtn");e.button("loading"),a.ajax({url:"handler.php",type:"POST",dataType:"text",cache:!0,data:$(this).serialize()}).done(function(a){""!=a?myCodeMirror.setValue(a):smoke.alert("Cannot process your code. Please try again!")}).fail(function(){smoke.alert("Cannot send request to server!")}).always(function(){e.button("reset"),grecaptcha.reset()})}b.preventDefault()})})
